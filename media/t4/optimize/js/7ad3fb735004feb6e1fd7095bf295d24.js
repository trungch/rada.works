(function(window){"use strict";var utils=window.utils||{};utils.classes={hiddenVisually:"u-hidden-visually",modifier:"--",isActive:"is-active",isClosed:"is-closed",isOpen:"is-open",isClicked:"is-clicked",isAnimating:"is-animating",isVisible:"is-visible",hidden:"u-hidden"};utils.keyCodes={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};utils.a11yclick=function(event){var code=event.charCode||event.keyCode,type=event.type;if(type==='click'){return!0}else if(type==='keydown'){if(code===utils.keyCodes.SPACE||code===utils.keyCodes.ENTER){return!0}}else{return!1}};utils.a11yclickBind=function(el,callback,name){el.on("click."+name+" keydown."+name,function(event){if(utils.a11yclick(event)){event.preventDefault(event);if(callback&&typeof callback==='function'){callback.call()}
el.trigger('clicked.'+name)}})};utils.supportTransition=('transition' in document.documentElement.style)||('WebkitTransition' in document.documentElement.style);utils.whichTransitionEvent=function(){var el=document.createElement('fakeelement'),transitions={'transition':'transitionend','WebkitTransition':'webkitTransitionEnd'};for(var t in transitions){if(el.style[t]!==undefined){return transitions[t]}}};utils.transEndEventName=utils.whichTransitionEvent();utils.onEndTransition=function(el,callback){var onEndCallbackFn=function(ev){if(utils.supportTransition){if(ev.target!=this)return;this.removeEventListener(utils.transEndEventName,onEndCallbackFn)}
if(callback&&typeof callback==='function'){callback.call()}};if(utils.supportTransition){el.addEventListener(utils.transEndEventName,onEndCallbackFn)}else{onEndCallbackFn()}};utils.createModifierClass=function(cl,modifier){return cl+utils.classes.modifier+modifier};utils.cssModifiers=function(modifiers,cssClasses,baseClass){var arr=modifiers.split(",");for(var i=0,l=arr.length;i<l;i++){cssClasses.push(utils.createModifierClass(baseClass,arr[i].trim()))}};utils.getMetaOptions=function(el,name,metadata){var dataAttr='data-'+name,dataOptionsAttr=dataAttr+'-options',attr=el.getAttribute(dataAttr)||el.getAttribute(dataOptionsAttr);try{return attr&&JSON.parse(attr)||{}}catch(error){if(console){console.error('Error parsing '+dataAttr+' on '+el.className+': '+error)}
return}};window.utils=utils})(this);(function(w,$){"use strict";var name="trab-tab",componentName=name+"-component";w.componentNamespace=w.componentNamespace||{};var TrapTabKey=w.componentNamespace.TrapTabKey=function(element,options){if(!element){throw new Error("Element required to initialize object")}
this.element=element;this.$element=$(element);options=options||{};this.options=$.extend({},this.defaults,options)};TrapTabKey.prototype.init=function(){if(this.$element.data(componentName)){return}
this.$element.data(componentName,this)};TrapTabKey.prototype.bindTrap=function(){var self=this;this.$element.on('keydown.'+name,function(e){self._trapTabKey(self.$element,e)})};TrapTabKey.prototype.unbindTrap=function(){this.$element.off('keydown.'+name)};TrapTabKey.prototype.giveFocus=function(){var self=this,opts=self.options;var o=self.$element.find('*'),focusEl=self.$element.find('[data-focus]');focusEl.length?focusEl.first().focus():o.filter(opts.focusableElementsString).filter(':visible').first().focus()};TrapTabKey.prototype._trapTabKey=function(obj,evt){var self=this,opts=self.options;if(evt.which==9){var o=obj.find('*');var focusableItems;focusableItems=o.filter(opts.focusableElementsString).filter(':visible');var focusedItem;focusedItem=jQuery(':focus');var numberOfFocusableItems;numberOfFocusableItems=focusableItems.length;var focusedItemIndex;focusedItemIndex=focusableItems.index(focusedItem);if(evt.shiftKey){if(focusedItemIndex==0){focusableItems.get(numberOfFocusableItems-1).focus();evt.preventDefault()}}else{if(focusedItemIndex==numberOfFocusableItems-1){focusableItems.get(0).focus();evt.preventDefault()}}}};TrapTabKey.prototype.defaults={focusableElementsString:"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]"};TrapTabKey.defaults=TrapTabKey.prototype.defaults})(this,jQuery);(function(window,$){"use strict";var name="button",componentName=name+"-component",utils=window.utils,cl={iconOnly:"icon-only",withIcon:"icon",toggleState:"toggle-state",showHide:"visible-on-active"};window.componentNamespace=window.componentNamespace||{};var Button=window.componentNamespace.Button=function(element,options){if(!element){throw new Error("Element required to initialize object")}
this.element=element;this.$element=$(element);this.options=options=options||{};this.metadata=utils.getMetaOptions(this.element,name);this.options=$.extend({},this.defaults,this.metadata,options)};Button.prototype.init=function(){if(this.$element.data(componentName)){return}
this.$element.data(componentName,this);this.hasTitle=!!this.$element.attr("title");this.$element.trigger("beforecreate."+name);this.isPressed=!1;this.isExpanded=!1;this._create()};Button.prototype._create=function(){var options=this.options,buttonTextClasses=[options.baseClass+'__text'];this._buttonClasses=[options.baseClass];if(options.label===null){options.label=this.$element.html()}
if(options.wrapText){this.$buttonText=$('<span></span>').html(options.label).appendTo(this.$element.empty())}
if(options.icon){this.$buttonIcon=$("<span class='"+options.iconFamily+' '+utils.createModifierClass(options.iconFamily,options.icon)+"'></span>").prependTo(this.$element);this._buttonClasses.push(utils.createModifierClass(options.baseClass,cl.withIcon));if(options.iconActive){options.toggle=!0;this.$buttonIconActive=$("<span class='"+options.iconFamily+' '+utils.createModifierClass(options.iconFamily,options.iconActive)+' '+utils.createModifierClass(options.iconFamily,cl.showHide)+"'></span>").insertAfter(this.$buttonIcon);this._buttonClasses.push(utils.createModifierClass(options.baseClass,cl.toggleState))}
if(options.hideText){buttonTextClasses.push(utils.classes.hiddenVisually);this._buttonClasses.push(utils.createModifierClass(options.baseClass,cl.iconOnly))}}
if(options.modifiers){utils.cssModifiers(options.modifiers,this._buttonClasses,options.baseClass)}
if(options.wrapText){this.$buttonText.addClass(buttonTextClasses.join(" "))}
if(options.textActive&&options.wrapText){options.toggle=!0;buttonTextClasses.push(utils.createModifierClass(options.baseClass+'__text',cl.showHide));this._buttonClasses.push(utils.createModifierClass(options.baseClass,cl.toggleState));this.$buttonTextActive=$('<span></span>').addClass(buttonTextClasses.join(" ")).html(options.textActive).insertAfter(this.$buttonText);this.$element.attr('aria-live','polite')}
this.$element.addClass(this._buttonClasses.join(" "));if(options.role){this.$element.attr("role",options.role)}
if(options.controls){this.controls(options.controls)}
if(options.pressed){this._isPressed(options.pressed)}
if(options.expanded){this.isPressed=!0;this._isExpanded(options.expanded)}
if(!this.hasTitle&&options.hideText&&!options.hideTitle){this.$element.attr('title',this.$element.text())}
this.$element.trigger("create."+name)};Button.prototype._isPressed=function(state){this.isPressed=state;this.$element.attr("aria-pressed",state)[state?"addClass":"removeClass"](utils.classes.isActive)};Button.prototype._isExpanded=function(state){this.isExpanded=state;this.$element.attr("aria-expanded",state)[state?"addClass":"removeClass"](utils.classes.isActive)};Button.prototype.controls=function(el){this.$element.attr("aria-controls",el)};Button.prototype.destroy=function(){var options=this.options;this.$element.removeData(componentName).removeAttr('role').removeAttr('aria-pressed').removeAttr('aria-expanded').removeAttr('aria-controls').removeClass(this._buttonClasses.join(" ")).removeClass(utils.classes.isActive).off("."+name);if(this.options.icon){this.$element.find('[class^="'+this.options.iconFamily+'"]').remove()}
if(options.wrapText){var btnHtml=this.$buttonText.html();this.$element.empty().html(btnHtml)}
this.element=null;this.$element=null};Button.prototype.defaults={baseClass:"c-button",role:"button",label:null,modifiers:null,controls:null,textActive:null,wrapText:!0,hideText:!1,hideTitle:!1,icon:null,iconActive:null,iconFamily:"o-icon",iconPosition:null,pressed:!1,expanded:!1};Button.defaults=Button.prototype.defaults})(this,jQuery);(function(w,$){"use strict";var pluginName="jsButton",initSelector=".js-button";$.fn[pluginName]=function(){return this.each(function(){new window.componentNamespace.Button(this).init()})};$(document).bind("enhance",function(e){$($(e.target).is(initSelector)&&e.target).add(initSelector,e.target).filter(initSelector)[pluginName]()})})(this,jQuery);(function(window,$){"use strict";var name="offcanvas",componentName=name+"-component",utils=window.utils,doc=document;window.componentNamespace=window.componentNamespace||{};var Offcanvas=window.componentNamespace.Offcanvas=function(element,options){if(!element){throw new Error("Element required to initialize object")}
this.element=element;this.$element=$(element);this.options=options=options||{};this.metadata=utils.getMetaOptions(this.element,name);this.options=$.extend({},this.defaults,this.metadata,options);this.isOpen=!1;this.onOpen=this.options.onOpen;this.onClose=this.options.onClose;this.onInit=this.options.onInit};Offcanvas.prototype.init=function(){if(this.$element.data(componentName)){return}
this.$element.data(componentName,this);this.$element.trigger("beforecreate."+name);this._addAttributes();this._initTrigger();this._createModal();this._trapTabKey();this._closeButton();if(this.onInit&&typeof this.onInit==='function'){this.onInit.call(this.element)}
this.$element.trigger("create."+name)};Offcanvas.prototype._addAttributes=function(){var options=this.options,panelAttr={tabindex:"-1","aria-hidden":!this.isOpen};if(options.role){panelAttr.role=options.role}
this._panelClasses=[options.baseClass,utils.classes.isClosed];if(!window.utils.supportTransition){this._panelClasses.push(utils.createModifierClass(options.baseClass,options.supportNoTransitionsClass))}
utils.cssModifiers(options.modifiers,this._panelClasses,options.baseClass);this.$element.attr(panelAttr).addClass(this._panelClasses.join(" "));this.$content=$('.'+options.contentClass);this._contentOpenClasses=[];utils.cssModifiers(options.modifiers,this._contentOpenClasses,options.contentClass);this._modalOpenClasses=[options.modalClass,utils.classes.isClosed];utils.cssModifiers(options.modifiers,this._modalOpenClasses,options.modalClass);this._bodyOpenClasses=[options.bodyModifierClass+"--visible"];utils.cssModifiers(options.modifiers,this._bodyOpenClasses,options.bodyModifierClass);if(options.modifiers.toLowerCase().indexOf("reveal")>=0){this.transitionElement=this.$content[0]}else{this.transitionElement=this.element}};Offcanvas.prototype._createModal=function(){var self=this,target=self.$element.parent();if(this.options.modal){this.$modal=$("<div></div>").on("mousedown."+name,function(){self.close()}).appendTo(target);this.$modal.addClass(this._modalOpenClasses.join(" "))}};Offcanvas.prototype._trapTabKey=function(){this.trapTabKey=new window.componentNamespace.TrapTabKey(this.element);this.trapTabKey.init()};Offcanvas.prototype._trapTabEscKey=function(){var self=this;$(doc).on("keyup."+name,function(ev){var keyCode=ev.keyCode||ev.which;if(keyCode===utils.keyCodes.ESCAPE&&self.isOpen){if($("input").is(":focus")){return}
self.close()}})};Offcanvas.prototype._closeButton=function(){var self=this,options=self.options;function closeOffcanvas(){self.close()}
this.$closeBtn=this.$element.find('.'+options.closeButtonClass);if(this.$closeBtn.length){this.closeBtn=new window.componentNamespace.Button(this.$closeBtn[0]);this.closeBtn.init();this.closeBtn.controls(this.$element.attr('id'));utils.a11yclickBind(this.$closeBtn,closeOffcanvas,name)}};Offcanvas.prototype.open=function(){var self=this,options=self.options;if(!this.isOpen){if(options.resize){this.resize()}
if(doc.activeElement){this.lastFocus=doc.activeElement;this.lastFocusTrigger=$(this.lastFocus).data("button-component")}
this.isOpen=!0;$('html, body').addClass(this._bodyOpenClasses.join(" "));this._addClasses(this.$element,this.isOpen,!0);this._addClasses(this.$content,this.isOpen,!0);if(options.modal){this._addClasses(this.$modal,this.isOpen,!0);this.$modal.addClass(utils.createModifierClass(options.modalClass,'opening'))}
this.$element.attr("aria-hidden","false").addClass(utils.createModifierClass(options.baseClass,'opening')).trigger("opening."+name);this.$content.addClass(this._contentOpenClasses.join(" "));utils.onEndTransition(this.transitionElement,function(){self.trapTabKey.giveFocus();self.trapTabKey.bindTrap();self._addClasses(self.$element,self.isOpen,!1);self._addClasses(self.$content,self.isOpen,!1);if(options.modal){self._addClasses(self.$modal,self.isOpen,!1);self.$modal.removeClass(utils.createModifierClass(options.modalClass,'opening'))}
self.$element.removeClass(utils.createModifierClass(options.baseClass,'opening'))});if(this.$trigger){this.$trigger.button._isExpanded(!0)}
if(this.lastFocusTrigger){this.lastFocusTrigger._isExpanded(!0)}
if(this.onOpen&&typeof this.onOpen==='function'){this.onOpen.call(this.$element)}
this._trapTabEscKey();this.$element.trigger("open."+name)}};Offcanvas.prototype.close=function(){var self=this,options=self.options;if(!this.isOpen){return}
this.isOpen=!1;this._addClasses(this.$element,this.isOpen,!0);this._addClasses(this.$content,this.isOpen,!0);if(this.options.modal){this._addClasses(this.$modal,this.isOpen,!0);this.$modal.addClass(utils.createModifierClass(options.modalClass,'closing'))}
this.$element.attr("aria-hidden","true").addClass(utils.createModifierClass(options.baseClass,'closing')).trigger("closing."+name);this.trapTabKey.unbindTrap();if(self.$trigger){self.$trigger.button._isExpanded(!1)}
if(this.lastFocusTrigger){this.lastFocusTrigger._isExpanded(!1);this.lastFocusTrigger=null}
utils.onEndTransition(this.transitionElement,function(){self._addClasses(self.$element,self.isOpen,!1);self._addClasses(self.$content,self.isOpen,!1);if(self.options.modal){self._addClasses(self.$modal,self.isOpen,!1);self.$modal.removeClass(utils.createModifierClass(options.modalClass,'closing'))}
self.$content.removeClass(self._contentOpenClasses.join(" "));self.$element.removeClass(utils.createModifierClass(options.baseClass,'closing'));$('html, body').removeClass(self._bodyOpenClasses.join(" "));if(self.lastFocus){self.lastFocus.focus()}});if(this.onClose&&typeof this.onClose==='function'){this.onClose.call(this.element)}
this.$element.trigger("close."+name);$(doc).off("keyup."+name);$(window).off('.'+name)};Offcanvas.prototype._addClasses=function(el,isOpen,beforeTransition){if(isOpen){if(beforeTransition){el.removeClass(utils.classes.isClosed).addClass(utils.classes.isAnimating).addClass(utils.classes.isOpen)}else{el.removeClass(utils.classes.isAnimating)}}else{if(beforeTransition){el.removeClass(utils.classes.isOpen).addClass(utils.classes.isAnimating)}else{el.addClass(utils.classes.isClosed).removeClass(utils.classes.isAnimating)}}};Offcanvas.prototype.toggle=function(){this[this.isOpen?"close":"open"]()};Offcanvas.prototype.resize=function(){var self=this,ticking;var raf=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(callback){window.setTimeout(callback,1000/60)}})();function update(){ticking=!1}
function requestTick(){if(!ticking){raf(update)}
ticking=!0}
function onResize(){requestTick();self.$element.trigger("resizing."+name);if(self.options.resize){self.close()}}
$(window).on('resize.'+name+' orientationchange.'+name,onResize)};Offcanvas.prototype._initTrigger=function(){var self=this,options=self.options,offcanvasID=this.$element.attr('id');if(options.triggerButton){this.$triggerBtn=$(options.triggerButton);new window.componentNamespace.OffcanvasTrigger(this.$triggerBtn[0],{"offcanvas":offcanvasID}).init()}};Offcanvas.prototype.setButton=function(trigger){this.$element.data(componentName+"-trigger",trigger)};Offcanvas.prototype.destroy=function(){this.$element.trigger("destroy."+name);if(this.isOpen){this.close()}
this.$element.removeData().removeClass(this._panelClasses.join(" ")).removeAttr('tabindex').removeAttr('aria-hidden');if(this.$triggerBtn){this.$triggerBtn.removeData('offcanvas-trigger-component').off(".offcanvas").off(".offcanvas-trigger").data('button-component').destroy()}
this.$element.off("."+name);$(doc).off("."+name);$(window).off('.'+name)};Offcanvas.prototype.defaults={role:"dialog",modifiers:"left,overlay",baseClass:"c-offcanvas",modalClass:"c-offcanvas-bg",contentClass:"c-offcanvas-content-wrap",closeButtonClass:"js-offcanvas-close",bodyModifierClass:"has-offcanvas",supportNoTransitionsClass:"support-no-transitions",resize:!1,triggerButton:null,modal:!0,onOpen:null,onClose:null,onInit:null};Offcanvas.defaults=Offcanvas.prototype.defaults})(this,jQuery);(function(w,$){"use strict";var pluginName="offcanvas",initSelector=".js-"+pluginName;$.fn[pluginName]=function(options){return this.each(function(){new w.componentNamespace.Offcanvas(this,options).init()})};$(w.document).on("enhance",function(e){$($(e.target).is(initSelector)&&e.target).add(initSelector,e.target).filter(initSelector)[pluginName]()})})(this,jQuery);(function(w,$){"use strict";var name="offcanvas-trigger",componentName=name+"-component",utils=w.utils;w.componentNamespace=w.componentNamespace||{};var OffcanvasTrigger=w.componentNamespace.OffcanvasTrigger=function(element,options){if(!element){throw new Error("Element required to initialize object")}
this.element=element;this.$element=$(element);this.options=options=options||{};this.options=$.extend({},this.defaults,options)};OffcanvasTrigger.prototype.init=function(){if(this.$element.data(componentName)){return}
this.$element.data(componentName,this);this._create()};OffcanvasTrigger.prototype._create=function(){this.options.offcanvas=this.options.offcanvas||this.$element.attr("data-offcanvas-trigger");this.$offcanvas=$("#"+this.options.offcanvas);this.offcanvas=this.$offcanvas.data("offcanvas-component");if(!this.offcanvas){throw new Error("Offcanvas Element not found")}
this.button=new w.componentNamespace.Button(this.element);this.button.init();this.button.controls(this.options.offcanvas);this.button._isExpanded(!1);this._bindbehavior()};OffcanvasTrigger.prototype._bindbehavior=function(){var self=this;this.offcanvas.setButton(self);function toggleOffcanvas(){self.offcanvas.toggle()}
utils.a11yclickBind(this.$element,toggleOffcanvas,name)};OffcanvasTrigger.prototype.defaults={offcanvas:null}})(this,jQuery);(function(w,$){"use strict";var pluginName="offcanvasTrigger",initSelector="[data-offcanvas-trigger],.js-"+pluginName;$.fn[pluginName]=function(options){return this.each(function(){new w.componentNamespace.OffcanvasTrigger(this,options).init()})};$(w.document).on("enhance",function(e){$($(e.target).is(initSelector)&&e.target).add(initSelector,e.target).filter(initSelector)[pluginName]()})})(this,jQuery)
/*bodyScrollLock.min.js*/
!function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var o={};t(o),e.bodyScrollLock=o}}(this,function(exports){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}Object.defineProperty(exports,"__esModule",{value:!0});var l=!1;if("undefined"!=typeof window){var e={get passive(){l=!0}};window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}var d="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),c=[],u=!1,a=-1,s=void 0,v=void 0,f=function(t){return c.some(function(e){return!(!e.options.allowTouchMove||!e.options.allowTouchMove(t))})},m=function(e){var t=e||window.event;return!!f(t.target)||(1<t.touches.length||(t.preventDefault&&t.preventDefault(),!1))},o=function(){setTimeout(function(){void 0!==v&&(document.body.style.paddingRight=v,v=void 0),void 0!==s&&(document.body.style.overflow=s,s=void 0)})};exports.disableBodyScroll=function(i,e){if(d){if(!i)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(i&&!c.some(function(e){return e.targetElement===i})){var t={targetElement:i,options:e||{}};c=[].concat(r(c),[t]),i.ontouchstart=function(e){1===e.targetTouches.length&&(a=e.targetTouches[0].clientY)},i.ontouchmove=function(e){var t,o,n,r;1===e.targetTouches.length&&(o=i,r=(t=e).targetTouches[0].clientY-a,!f(t.target)&&(o&&0===o.scrollTop&&0<r?m(t):(n=o)&&n.scrollHeight-n.scrollTop<=n.clientHeight&&r<0?m(t):t.stopPropagation()))},u||(document.addEventListener("touchmove",m,l?{passive:!1}:void 0),u=!0)}}else{n=e,setTimeout(function(){if(void 0===v){var e=!!n&&!0===n.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth;e&&0<t&&(v=document.body.style.paddingRight,document.body.style.paddingRight=t+"px")}void 0===s&&(s=document.body.style.overflow,document.body.style.overflow="hidden")});var o={targetElement:i,options:e||{}};c=[].concat(r(c),[o])}var n},exports.clearAllBodyScrollLocks=function(){d?(c.forEach(function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null}),u&&(document.removeEventListener("touchmove",m,l?{passive:!1}:void 0),u=!1),c=[],a=-1):(o(),c=[])},exports.enableBodyScroll=function(t){if(d){if(!t)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");t.ontouchstart=null,t.ontouchmove=null,c=c.filter(function(e){return e.targetElement!==t}),u&&0===c.length&&(document.removeEventListener("touchmove",m,l?{passive:!1}:void 0),u=!1)}else(c=c.filter(function(e){return e.targetElement!==t})).length||o()}});

jQuery(document).ready(function($){var $offcanvas=$('.t4-offcanvas');$('.t4-wrapper').addClass('c-offcanvas-content-wrap');if($('#triggerButton').length){$offcanvas.offcanvas({triggerButton:'#triggerButton',onOpen:function(){$('#triggerButton').addClass('active');bodyScrollLock.disableBodyScroll($('.t4-off-canvas-body').get(0))},onClose:function(){$('#triggerButton').removeClass('active');setTimeout(function(){bodyScrollLock.enableBodyScroll($('.t4-off-canvas-body').get(0))},300)}});setTimeout(function(){$offcanvas.show()},300)}else{$offcanvas.hide()}
var refixingHeight=function(elm,action='next'){if($('.t4-off-canvas-body').data('effect')=='drill'){let $that=$(elm);setTimeout(function(){let menuH=$that.next().outerHeight();if(menuH<=200){menuH='400'}
if(action=='prev'){$offc_level=$that.closest('li.nav-item').data('level')||0;$offc_level=($offc_level!=0)?$offc_level-1:0;menuH=$that.closest("li[data-level="+$offc_level+"]").find('ul.dropdown-menu').not($that.parent('ul.dropdown-menu')).outerHeight();if(menuH<=200){menuH='400'}
$that.closest('opening').removeClass('opening')}
menuH=menuH+"px";$('.t4-off-canvas-body nav.navbar').css({height:menuH})},201)}}
if($('.t4-off-canvas-body').data('effect')=='drill'){$('.t4-off-canvas-body nav.navbar').addClass('drilldown-effect')}
$('.t4-off-canvas-body ul.dropdown-menu').each(function(index){var label=$(this).prev().text();$(this).prepend("<span class='sub-menu-back'><i class='fas fa-chevron-left'></i>"+label+"</span>");$(this).before('<span class="sub-menu-toggle btn-toggle"></span>')});$('.sub-menu-toggle').on('click',function(e){e.preventDefault();$offc_level=$(this).parent('li').data('level')||0;$offcanvas.removeClass(function(index,css){return(css.match(/\oc-level-\S+/g)||[]).join(' ')})
$offcanvas.addClass('oc-level-'+$offc_level);if($offc_level==1){$('ul.dropdown-menu').not($(this).next()).hide(200);$('.sub-menu-toggle').not($(this)).removeClass('is-active')}else if($offc_level==2){$(this).parents('ul.dropdown-menu').find('ul.dropdown-menu').not($(this).next()).hide(200);$(this).parents('ul.dropdown-menu').find('.sub-menu-toggle').not($(this)).removeClass('is-active')}
$(this).next().slideToggle(200);$(this).toggleClass('is-active');refixingHeight(this)});$('.sub-menu-back').on('click',function(e){e.preventDefault();$offc_level=$(this).closest('li.nav-item').data('level')||0;$offc_level=($offc_level!=0)?$offc_level-1:0;$offcanvas.removeClass(function(index,css){return(css.match(/\oc-level-\S+/g)||[]).join(' ')})
$offcanvas.addClass('oc-level-'+$offc_level);$(this).parent('ul.dropdown-menu').slideToggle(200);$('.sub-menu-toggle').toggleClass('is-active');refixingHeight(this,'prev')})});jQuery(document).ready(function(){jQuery(document).on("scroll",onScroll);onepageNavLinks=jQuery('.onepage .t4-navbar .nav-link');function onScroll(event){var scrollPos=jQuery(document).scrollTop();onepageNavLinks.each(function(){var currLink=jQuery(this);var refElement=jQuery(currLink.attr("href"));if(refElement.position().top<=scrollPos){onepageNavLinks.removeClass("active");currLink.addClass("active")}else{currLink.removeClass("active")}})}});jQuery(document).ready(function($){$(window).ready(function(){if("IntersectionObserver" in window&&"IntersectionObserverEntry" in window&&"intersectionRatio" in window.IntersectionObserverEntry.prototype){var options={root:null,rootMargin:'0px',threshold:0};var sections=document.querySelectorAll(".t4-section");var maxIdx=0;var sticky=document.querySelectorAll(".t4-sticky");function isValid(el){return el.offsetTop<window.innerHeight&&el.offsetTop+el.offsetHeight<window.innerHeight+200}
function doChange(changes,observer){changes.forEach(function(change){var clientRect=change.boundingClientRect,target=change.target;if(clientRect.top<=-clientRect.height){document.body.setAttribute('data-top-'+target.id,'over');document.body.classList.add('top-away')}else{document.body.setAttribute('data-top-'+target.id,'under');document.body.classList.remove('top-away')}})}
var observer=new IntersectionObserver(doChange,options);for(var i=0;i<sections.length;i++){var el=sections[i];if(isValid(el)){el.idx=i;observer.observe(el)}else{maxIdx=i-1;break}}
var top=0;var zindex=300;for(var i=0;i<sticky.length;i++){var elSk=sticky[i];top+=elSk.offsetHeight;if(typeof sticky[i+1]!='undefined'){$(elSk).css({'z-index':zindex});zindex-=1;$(sticky[i+1]).css({top:top,'z-index':zindex})}}
var options2={root:null,rootMargin:'0px',threshold:0};function doChange2(changes){var clientRect=changes[0].boundingClientRect;if(clientRect.top<=-100){document.body.classList.add('not-at-top')}else{document.body.classList.remove('not-at-top')}}
var observer2=new IntersectionObserver(doChange2,options2);var anchorEl=$('<a name="top-anchor">').prependTo('.t4-content-inner');if(anchorEl.get(0))observer2.observe(anchorEl.get(0))}});$(document).on('click','a[href^="#"]',function(event){event.preventDefault();if($(this).data('slide'))return;if(['tab'].indexOf($(this).data('toggle'))>-1)return;if(['tab'].indexOf($(this).attr('data-bs-toggle'))>-1)return;if(!$($.attr(this,'href')).length)return;$('.js-offcanvas-close').trigger('click');$('html, body').animate({scrollTop:$($.attr(this,'href')).offset().top},500)});$('li.nav-item.dropdown').on('hidden.bs.dropdown',function(e){$(this).find('.show').removeClass('show')});$('body').on('click','#back-to-top',function(){$('body,html,.t4-content').animate({scrollTop:0},500);return!1});$(document).find('.t4-content').on("scroll",function(event){var scroll=$('.t4-content').scrollTop();localStorage.setItem("page_scroll",scroll)})});(function($){$(document).ready(function(){var bootstrapLoaded=(typeof $().carousel=='function');var mootoolsLoaded=(typeof MooTools!='undefined');if(bootstrapLoaded&&mootoolsLoaded){Element.implement({hide:function(){return this},show:function(v){return this},slide:function(v){return this}})}});function refreshCurrentPage(){var page=window.location.href;var cur=localStorage.getItem('page');if(cur==page){return!0}
return!1}
window.onload=function(){var check=refreshCurrentPage();localStorage.setItem("page",window.location.href);if(document.getElementsByClassName("t4-content").length){if(check){var match=localStorage.getItem("page_scroll");document.getElementsByClassName("t4-content")[0].scrollTop=match}else{document.getElementsByClassName("t4-content")[0].scrollTop=0}}}
var Joomla=window.Joomla||{};Joomla.version=$('html').hasClass('j4')?"4":"3";if(Joomla.version==3){Joomla.renderMessages=function(messages){Joomla.removeMessages();var messageContainer=document.getElementById('system-message-container'),type,typeMessages,messagesBox,title,titleWrapper,i,messageWrapper,alertClass;for(type in messages){if(!messages.hasOwnProperty(type)){continue}
typeMessages=messages[type];messagesBox=document.createElement('div');alertClass=(type==='notice')?'alert-info':'alert-'+type;alertClass=(type==='message')?'alert-success':alertClass;alertClass=(type==='error')?'alert-error alert-danger':alertClass;messagesBox.className='alert '+alertClass;var buttonWrapper=document.createElement('button');buttonWrapper.setAttribute('type','button');if($('body').hasClass('loaded-bs5')){buttonWrapper.setAttribute('data-bs-dismiss','alert')}else{buttonWrapper.setAttribute('data-dismiss','alert')}
buttonWrapper.className='close';buttonWrapper.innerHTML='×';messagesBox.appendChild(buttonWrapper);title=Joomla.JText._(type);if(typeof title!='undefined'){titleWrapper=document.createElement('h4');titleWrapper.className='alert-heading';titleWrapper.innerHTML=Joomla.JText._(type);messagesBox.appendChild(titleWrapper)}
for(i=typeMessages.length-1;i>=0;i--){messageWrapper=document.createElement('div');messageWrapper.innerHTML=typeMessages[i];messagesBox.appendChild(messageWrapper)}
messageContainer.appendChild(messagesBox)}}}})(jQuery);jQuery(document).ready(function($){var navitem_selector='.t4-megamenu .nav-item',navitem_selector_dropdown='.t4-megamenu .nav-item.dropdown',$activeitem=null,timeout=0;var hideDropdowns=function(){var $opens=$(navitem_selector_dropdown+'.show');$opens.each(function(){var $item=$(this);if($activeitem&&$activeitem.closest($item).length)return;$item.removeClass('show').find('.dropdown-menu').removeClass('show');endAnimating($item)})}
var pos=function(){var $dropdown=$activeitem.addClass('show').children('.dropdown-menu').addClass('show');var rtl=$('html').attr('dir')=='rtl',dw=$dropdown.outerWidth(),ww=$(window).width(),dl=$dropdown.offset().left,iw=$activeitem.width(),il=$activeitem.offset().left,ml=null,align=$activeitem.data('align');ml=align=='center'?(iw-dw)/2:(align=='right'?dw-iw:(align=='justify'?(iw-dw)/2:0));if(dw<ww){if(il+ml<20)ml=20-il;if(il+ml+dw>ww-20)ml=ww-20-il-dw}else{ml=(ww-dw)/2-il}
$dropdown.css('margin-left',ml)}
var posrtl=function(){var $dropdown=$activeitem.addClass('show').children('.dropdown-menu').addClass('show');var rtl=$('html').attr('dir')=='rtl',dw=$dropdown.width(),ww=$(window).width(),dl=$dropdown.offset().left,iw=$activeitem.width(),il=$activeitem.offset().left,ml=null,align=$activeitem.data('align');ml=align=='center'?(dw-iw)/2:(align=='right'?dw-iw:(align=='justify'?ww/2:0));if(dw<ww){if(il+iw+ml>ww-20)ml=ww-20-il-iw;if(il+iw+ml<dw+20)ml=dw+20-il-iw}else{ml=ww-il-iw+(dw-ww)/2}
$dropdown.css('margin-right',-ml)}
var showDropdown=function(){if($activeitem.is('.dropdown')){var $dropdown=$activeitem.addClass('show').children('.dropdown-menu').addClass('show');startAnimating($activeitem);if($('html').attr('dir')=='rtl'){posrtl()}else{pos()}}
hideDropdowns()}
var startAnimating=function($item){var $menu=$item.closest('.t4-megamenu');if(!$menu.hasClass('animate'))return;clearTimeout($item.data('animating-timer'));$item.data('animating-timer',setTimeout(function(){$item.addClass('animating')},10))}
var endAnimating=function($item){var $menu=$item.closest('.t4-megamenu');if(!$menu.hasClass('animate'))return;var duration=parseInt($menu.data('duration'))||400;clearTimeout($item.data('animating-timer'));$item.data('animating-timer',setTimeout(function(){$item.removeClass('animating')},duration+10))}
$('body').on('mouseenter',navitem_selector,function(e){var $this=$(this);if($activeitem&&$(e.target).is('div')&&!$(e.target).closest($activeitem).length&&$this.closest(navitem_selector_dropdown).length){clearTimeout(timeout);return}
var $menu=$this.closest('.t4-megamenu'),id=$menu.attr('id'),$toggle=$('.navbar-toggler[data-target="#'+id+'"]');var rt=($(window).width()-($(this).offset().left+$(this).outerWidth()));if($(window).width()>991&&rt<150&&($(this).hasClass('dropright')||$(this).hasClass('dropend'))){$(this).removeClass('dropright dropend').addClass('dropleft dropstart')}
if($toggle.length&&$toggle.is(':visible')){if($menu.hasClass('animate'))$menu.removeClass('animate').addClass('animate-mobile');return}else{if($menu.hasClass('animate-mobile'))$menu.removeClass('animate-mobile').addClass('animate')}
if($this.closest(navitem_selector_dropdown).length){if(timeout){clearTimeout(timeout);timeout=0}
var $_activeitem=$this.closest(navitem_selector_dropdown);if(!$_activeitem.hasClass('show')&&!$(e.target).is($_activeitem)&&!$(e.target).parent().is($_activeitem)&&!$(e.target).is('.item-caret'))return;$activeitem=$_activeitem;showDropdown()}else{$activeitem=null;hideDropdowns()}}).on('mouseleave',navitem_selector,function(e){var $this=$(this);timeout=setTimeout(function(){if($activeitem&&$activeitem.is($this)){$activeitem=$this.parent().closest(navitem_selector);hideDropdowns()}},200)});var lastClickItem=null;$('.nav-item.dropdown a').on('click',function(e){var $this=$(this);console.log(lastClickItem)
if($this.closest('.t4-megamenu').length&&!$this.closest('.t4-megamenu').hasClass('animate-mobile')){location.href=this.href}
if((!$this.hasClass('dropdown-toggle')&&$this.next('.dropdown-menu'))||$this.closest('.t4-off-canvas-body').length){location.href=this.href}
var parentDrpEl=$(this).closest('ul.dropdown-menu');if($this.is(lastClickItem)){var arr1=this.href.split('#'),arr2=location.href.split('#');if(arr1[0]==arr2[0]){if(arr1.length>1&&arr1[1])location.hash='#'+arr1[1]}else{location.href=this.href}}else{var arr1=this.href.split('#'),arr2=location.href.split('#');if(arr1[0]==arr2[0]){if(arr1.length>1&&arr1[1])location.hash='#'+arr1[1]}
lastClickItem=$this;e.preventDefault();e.stopPropagation();if(location.hash&&!$this.is('.separator')){$('.js-offcanvas-close').trigger('click')}}});$('.t4-megamenu').each(function(){$toggle=$('.navbar-toggler[data-target="#'+this.id+'"]');if($toggle.length==1)$toggle.removeAttr('style')})})
